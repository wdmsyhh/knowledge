<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ubuntu18.04 系统开发环境配置 | BLOG（更新中...）</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.bfaa3857.css" as="style"><link rel="preload" href="/assets/js/app.f3a72080.js" as="script"><link rel="preload" href="/assets/js/2.b327ff52.js" as="script"><link rel="preload" href="/assets/js/1.f3150b7c.js" as="script"><link rel="preload" href="/assets/js/13.1f0294cf.js" as="script"><link rel="prefetch" href="/assets/js/10.8c6ba865.js"><link rel="prefetch" href="/assets/js/11.dd34a7f2.js"><link rel="prefetch" href="/assets/js/12.6670bac1.js"><link rel="prefetch" href="/assets/js/14.a2cc269a.js"><link rel="prefetch" href="/assets/js/15.a9ee56ea.js"><link rel="prefetch" href="/assets/js/16.e45ecbb6.js"><link rel="prefetch" href="/assets/js/17.e74253b4.js"><link rel="prefetch" href="/assets/js/18.e300333a.js"><link rel="prefetch" href="/assets/js/19.6b517022.js"><link rel="prefetch" href="/assets/js/20.1da490ba.js"><link rel="prefetch" href="/assets/js/21.c04dc09c.js"><link rel="prefetch" href="/assets/js/22.665a31e0.js"><link rel="prefetch" href="/assets/js/23.8ffb5090.js"><link rel="prefetch" href="/assets/js/24.39d73217.js"><link rel="prefetch" href="/assets/js/25.8194df11.js"><link rel="prefetch" href="/assets/js/26.42d25032.js"><link rel="prefetch" href="/assets/js/27.49390b71.js"><link rel="prefetch" href="/assets/js/28.b07b5b62.js"><link rel="prefetch" href="/assets/js/29.87772818.js"><link rel="prefetch" href="/assets/js/3.2d969418.js"><link rel="prefetch" href="/assets/js/30.78d54562.js"><link rel="prefetch" href="/assets/js/31.fd960de6.js"><link rel="prefetch" href="/assets/js/32.3e453157.js"><link rel="prefetch" href="/assets/js/33.d53cf199.js"><link rel="prefetch" href="/assets/js/34.5ea8a0b1.js"><link rel="prefetch" href="/assets/js/35.776efd45.js"><link rel="prefetch" href="/assets/js/36.8c96a332.js"><link rel="prefetch" href="/assets/js/37.3d9e647a.js"><link rel="prefetch" href="/assets/js/38.6eed27e6.js"><link rel="prefetch" href="/assets/js/39.67c85853.js"><link rel="prefetch" href="/assets/js/4.a7c1d921.js"><link rel="prefetch" href="/assets/js/40.569b47d8.js"><link rel="prefetch" href="/assets/js/41.33aac529.js"><link rel="prefetch" href="/assets/js/42.2844c8a7.js"><link rel="prefetch" href="/assets/js/43.5afa95cf.js"><link rel="prefetch" href="/assets/js/44.cf95a7fa.js"><link rel="prefetch" href="/assets/js/45.f89f6505.js"><link rel="prefetch" href="/assets/js/46.93ff565e.js"><link rel="prefetch" href="/assets/js/47.3356b82a.js"><link rel="prefetch" href="/assets/js/48.468e6a8d.js"><link rel="prefetch" href="/assets/js/49.691ea738.js"><link rel="prefetch" href="/assets/js/5.746f6125.js"><link rel="prefetch" href="/assets/js/50.a5f1ac10.js"><link rel="prefetch" href="/assets/js/51.2088d257.js"><link rel="prefetch" href="/assets/js/52.9fc154bd.js"><link rel="prefetch" href="/assets/js/53.3eb9018f.js"><link rel="prefetch" href="/assets/js/54.0b5756c6.js"><link rel="prefetch" href="/assets/js/55.db21cad4.js"><link rel="prefetch" href="/assets/js/56.ac696209.js"><link rel="prefetch" href="/assets/js/57.f874331f.js"><link rel="prefetch" href="/assets/js/58.9550b657.js"><link rel="prefetch" href="/assets/js/59.06f94928.js"><link rel="prefetch" href="/assets/js/6.9e0b06fc.js"><link rel="prefetch" href="/assets/js/60.98b4e5ee.js"><link rel="prefetch" href="/assets/js/61.19e62857.js"><link rel="prefetch" href="/assets/js/62.4c30b066.js"><link rel="prefetch" href="/assets/js/63.2e95745c.js"><link rel="prefetch" href="/assets/js/64.094bdbbf.js"><link rel="prefetch" href="/assets/js/65.7f748f11.js"><link rel="prefetch" href="/assets/js/66.a29c2a6c.js"><link rel="prefetch" href="/assets/js/67.5458bd06.js"><link rel="prefetch" href="/assets/js/68.c9f99a09.js"><link rel="prefetch" href="/assets/js/69.b7bbaae7.js"><link rel="prefetch" href="/assets/js/7.90693a75.js"><link rel="prefetch" href="/assets/js/70.b8eda490.js"><link rel="prefetch" href="/assets/js/71.ba5f80cc.js"><link rel="prefetch" href="/assets/js/72.42e05b16.js"><link rel="prefetch" href="/assets/js/73.e268d033.js"><link rel="prefetch" href="/assets/js/74.8c42abcf.js"><link rel="prefetch" href="/assets/js/75.113658c9.js"><link rel="prefetch" href="/assets/js/76.9890677f.js"><link rel="prefetch" href="/assets/js/77.6010b84e.js"><link rel="prefetch" href="/assets/js/78.a217a15c.js"><link rel="prefetch" href="/assets/js/79.63bed35b.js"><link rel="prefetch" href="/assets/js/80.2fd97815.js"><link rel="prefetch" href="/assets/js/81.fd660ca9.js"><link rel="prefetch" href="/assets/js/82.fce6c521.js"><link rel="prefetch" href="/assets/js/83.1a3f5792.js"><link rel="prefetch" href="/assets/js/84.7cee5c9f.js"><link rel="prefetch" href="/assets/js/85.49777527.js"><link rel="prefetch" href="/assets/js/86.43d17a91.js"><link rel="prefetch" href="/assets/js/87.59d8a74a.js"><link rel="prefetch" href="/assets/js/88.1107665e.js"><link rel="prefetch" href="/assets/js/89.147d3002.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.6533f879.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bfaa3857.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">BLOG（更新中...）</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  【Home】
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  【Home】
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/profile.html" class="sidebar-link">说明</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>系统开发环境</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/system/ubuntu常用命令.html" class="sidebar-link">Ubuntu 常用命令</a></li><li><a href="/system/ubuntu.html" aria-current="page" class="active sidebar-link">Ubuntu18.04 系统开发环境配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/system/ubuntu.html#解决github的raw-githubusercontent-com无法连接问题" class="sidebar-link">解决GitHub的raw.githubusercontent.com无法连接问题</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#github-无法访问问题" class="sidebar-link">github 无法访问问题</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#代理" class="sidebar-link">代理</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#搜狗输入法安装" class="sidebar-link">搜狗输入法安装</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#安装-vscode" class="sidebar-link">安装 VScode</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#安装-zsh-和-oh-my-zsh" class="sidebar-link">安装 zsh 和 oh my zsh</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#磁盘清理" class="sidebar-link">磁盘清理</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#查看端口被占用" class="sidebar-link">查看端口被占用</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#使用-nvm-管理不同版本的-node-与-npm" class="sidebar-link">使用 nvm 管理不同版本的 node 与 npm</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#安装yarn" class="sidebar-link">安装Yarn</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#软件商店安装软件问题" class="sidebar-link">软件商店安装软件问题</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#邮件客户端配置" class="sidebar-link">邮件客户端配置</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#安装-mongo-client" class="sidebar-link">安装 mongo client</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#文件上传" class="sidebar-link">文件上传</a></li><li class="sidebar-sub-header"><a href="/system/ubuntu.html#抓包工具" class="sidebar-link">抓包工具</a></li></ul></li><li><a href="/system/ubuntu22.html" class="sidebar-link">Ubuntu22</a></li><li><a href="/system/windows.html" class="sidebar-link">Windows11 系统配置</a></li></ul></section></li><li><a href="/git/git.html" class="sidebar-link">Git</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Golang</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>gRPC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据存储</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>消息队列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>API网关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>日志采集</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Jenkins</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Gitlab</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>K8s</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>阿里云</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/开发工具/内网穿透.html" class="sidebar-link">内网穿透</a></li><li><a href="/chatgpt/chatgpt.html" class="sidebar-link">ChatGPT</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ubuntu18-04-系统开发环境配置"><a href="#ubuntu18-04-系统开发环境配置" class="header-anchor">#</a> Ubuntu18.04 系统开发环境配置</h1> <h2 id="解决github的raw-githubusercontent-com无法连接问题"><a href="#解决github的raw-githubusercontent-com无法连接问题" class="header-anchor">#</a> 解决GitHub的raw.githubusercontent.com无法连接问题</h2> <p>aaaa</p> <p>Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|0.0.0.0|:443... failed: Connection refused.</p> <p>在 <a href="https://site.ip138.com/raw.Githubusercontent.com/" target="_blank" rel="noopener noreferrer">https://site.ip138.com/raw.Githubusercontent.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>输入<code>raw.githubusercontent.com</code>查询IP地址</p> <p>修改hosts Ubuntu:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/hosts
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># GitHub Start</span>
<span class="token number">52.74</span>.223.119 github.com
<span class="token number">192.30</span>.253.119 gist.github.com
<span class="token number">54.169</span>.195.247 api.github.com
<span class="token number">185.199</span>.111.153 assets-cdn.github.com
<span class="token number">151.101</span>.76.133 raw.githubusercontent.com
<span class="token number">151.101</span>.108.133 user-images.githubusercontent.com
<span class="token number">151.101</span>.76.133 gist.githubusercontent.com
<span class="token number">151.101</span>.76.133 cloud.githubusercontent.com
<span class="token number">151.101</span>.76.133 camo.githubusercontent.com
<span class="token number">151.101</span>.76.133 avatars0.githubusercontent.com
<span class="token number">151.101</span>.76.133 avatars1.githubusercontent.com
<span class="token number">151.101</span>.76.133 avatars2.githubusercontent.com
<span class="token number">151.101</span>.76.133 avatars3.githubusercontent.com
<span class="token number">151.101</span>.76.133 avatars4.githubusercontent.com
<span class="token number">151.101</span>.76.133 avatars5.githubusercontent.com
<span class="token number">151.101</span>.76.133 avatars6.githubusercontent.com
<span class="token number">151.101</span>.76.133 avatars7.githubusercontent.com
<span class="token number">151.101</span>.76.133 avatars8.githubusercontent.com
<span class="token comment"># GitHub End</span>
</code></pre></div><h2 id="github-无法访问问题"><a href="#github-无法访问问题" class="header-anchor">#</a> github 无法访问问题</h2> <p>使用 <code>git pull</code> 报错：</p> <p>ssh: connect to host github.com port 22: Operation timed out fatal: 无法读取远程仓库。</p> <ol><li><p><code>ping github.com</code> 无法ping通</p></li> <li><p><code>nslookup github.com 1.1.1.1</code> 拿到github的真是ip</p></li></ol> <div class="language-text extra-class"><pre class="language-text"><code>Server:         1.1.1.1
Address:        1.1.1.1#53

Non-authoritative answer:
Name:   github.com
Address: 192.30.255.113
</code></pre></div><ol start="3"><li>修改 hosts</li></ol> <div class="language-text extra-class"><pre class="language-text"><code>sudo vim /etc/hosts

192.30.255.113 github.com
</code></pre></div><ol start="4"><li>再次 <code>ping github.com</code> ping通</li></ol> <h2 id="代理"><a href="#代理" class="header-anchor">#</a> 代理</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#! /bin/bash -e</span>

<span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">trap</span> <span class="token string">'onCtrlC'</span> INT
    <span class="token keyword">function</span> <span class="token function-name function">onCtrlC</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">'\nCtrl+C is captured'</span>
        gsettings <span class="token builtin class-name">set</span> org.gnome.system.proxy mode <span class="token string">'none'</span>
    <span class="token punctuation">}</span>
    gsettings <span class="token builtin class-name">set</span> org.gnome.system.proxy mode <span class="token string">'manual'</span>
    sshpass <span class="token parameter variable">-p</span> <span class="token variable">${墙外服务器密码}</span> <span class="token parameter variable">-ND</span> <span class="token number">1080</span> root@<span class="token variable">${墙外服务器ip}</span>
<span class="token punctuation">}</span>

main
</code></pre></div><h2 id="搜狗输入法安装"><a href="#搜狗输入法安装" class="header-anchor">#</a> 搜狗输入法安装</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>我的是 Win11 + Ubuntu18.04双系统
如果按照按照官网的教程直接安装，大概率安装好以后是无法使用的，可尝试如下方法修复。虚拟机或 Ubuntu 单系统也可参考。</p></div> <ul><li>先卸载掉fcitx，及其所有相关的软件。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token parameter variable">-y</span> <span class="token parameter variable">--purge</span> remove fcitx
<span class="token function">sudo</span> <span class="token function">apt</span> clean fcitx
</code></pre></div><ul><li>然后安装一些依赖。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token parameter variable">-y</span> <span class="token function">install</span> fcitx fcitx-bin fcitx-table fcitx-table-all
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token parameter variable">-y</span> <span class="token function">install</span> fcitx-config-gtk
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token parameter variable">-y</span> <span class="token function">install</span> fcitx-libs libfcitx-qt0 libopencc2 libopencc2-data libqt4-opengl libqtwebkit4
</code></pre></div><ul><li>下载搜狗拼音。</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>只能下载2.3版本（或者其他2.x版本）的，不要下载官网3.x或者4.x版本，不然安装了也用不了，这是最关键的一点，切记！！！</p></div> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">wget</span> http://cdn2.ime.sogou.com/dl/index/1571302197/sogoupinyin_2.3.1.0112_amd64.deb
</code></pre></div><ul><li>安装搜狗拼音。</li></ul> <p>可以直接双击 .deb 文件，也可以执行下面命令安装</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> sogoupinyin_2.3.1.0112_amd64.deb

<span class="token comment"># 如果安装失败，请执行如下命令安装依赖，然后再执行上面的安装命令</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token parameter variable">-f</span> <span class="token function">install</span>
</code></pre></div><ul><li><p>安装完以后，重启电脑，在语言支持里将输入法改为 fcitx。</p> <p><img src="/assets/img/image1.59e97957.png" alt=""></p> <p><img src="/assets/img/image2.097e1f91.png" alt=""></p></li> <li><p>打开 Fcitx Configure，添加搜狗输入法。</p> <p><img src="/assets/img/image3.1cf6fb44.png" alt=""></p></li> <li><p>至此，应该就可以使用搜狗输入法了。</p></li></ul> <h2 id="安装-vscode"><a href="#安装-vscode" class="header-anchor">#</a> 安装 VScode</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Ubuntu 的应用市场安装的 VSCode 是 snap 的削减版本，不支持中文。如果是从 Ubuntu 应用市场安装的，卸载之后从官网下载安装。</p></div> <ul><li>卸载 snap 版本。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code> <span class="token function">sudo</span> snap remove code
</code></pre></div><ul><li>官网下载安装。</li></ul> <p>官网：<a href="https://code.visualstudio.com/Download" target="_blank" rel="noopener noreferrer">https://code.visualstudio.com/Download<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>下载后可以直接双击 .deb 文件，也可以执行下面命令安装</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> xxxxx
</code></pre></div><h2 id="安装-zsh-和-oh-my-zsh"><a href="#安装-zsh-和-oh-my-zsh" class="header-anchor">#</a> 安装 zsh 和 oh my zsh</h2> <ul><li>参考：</li></ul> <p><a href="https://juejin.cn/post/7023578642156355592" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/7023578642156355592<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://zhuanlan.zhihu.com/p/19556676" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/19556676<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>先安装 zsh。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">zsh</span>
</code></pre></div><ul><li>安装完成后设置当前用户使用 zsh：</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>chsh <span class="token parameter variable">-s</span> /bin/zsh
</code></pre></div><p>也可以直接使用 <code>zsh</code> 和 <code>bash</code> 切换。</p> <ul><li>安装 oh-my-zsh。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">wget</span> https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh <span class="token parameter variable">-O</span> - <span class="token operator">|</span> <span class="token function">sh</span>
</code></pre></div><ul><li>修改插件</li></ul> <p>在 ~/.zshrc 中修改插件： <code>plugins=(git)</code> 改为 <code>plugins=(git zsh-syntax-highlighting zsh-autosuggestions)</code></p> <ul><li>安装插件</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">git</span> clone https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="token variable">${ZSH_CUSTOM<span class="token operator">:-</span>~<span class="token operator">/</span>.oh-my-zsh<span class="token operator">/</span>custom}</span>/plugins/zsh-syntax-highlighting
<span class="token function">git</span> clone https://github.com/zsh-users/zsh-autosuggestions <span class="token variable">${ZSH_CUSTOM<span class="token operator">:-</span>~<span class="token operator">/</span>.oh-my-zsh<span class="token operator">/</span>custom}</span>/plugins/zsh-autosuggestions

<span class="token builtin class-name">source</span> .zshrc
</code></pre></div><ul><li>重新打开终端就可以了。</li></ul> <h2 id="磁盘清理"><a href="#磁盘清理" class="header-anchor">#</a> 磁盘清理</h2> <ul><li>进入根路径。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /
</code></pre></div><ul><li>查看磁盘挂载和占用情况。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">df</span> <span class="token parameter variable">-hl</span>
</code></pre></div><ul><li>排查哪些目录占用空间较大。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">du</span> <span class="token parameter variable">-h</span> --max-depth<span class="token operator">=</span><span class="token number">1</span>
</code></pre></div><p><img src="/assets/img/image4.907aaedf.png" alt=""></p> <ul><li>继续进入较大的目录执行如上命令。</li></ul> <p><img src="/assets/img/image5.111d67bf.png" alt=""></p> <ul><li>安目录大小排序</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">du</span> <span class="token parameter variable">-h</span> --max-depth<span class="token operator">=</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-rh</span>
<span class="token comment">#按目录大小排序取前 10 条</span>
<span class="token function">du</span> <span class="token parameter variable">-h</span> --max-depth<span class="token operator">=</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-rh</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-n</span> <span class="token number">11</span>
</code></pre></div><ul><li>所有文件从大到小展示。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">ls</span> <span class="token parameter variable">-lhS</span>
</code></pre></div><p><img src="/assets/img/image6.1ce0e188.png" alt=""></p> <ul><li>清空日志。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> truncate <span class="token parameter variable">-s</span> <span class="token number">0</span> /var/log/syslog.1
</code></pre></div><h2 id="查看端口被占用"><a href="#查看端口被占用" class="header-anchor">#</a> 查看端口被占用</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">netstat</span> <span class="token parameter variable">-nap</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">3306</span>
或者
<span class="token function">sudo</span> <span class="token function">lsof</span> <span class="token parameter variable">-i:8081</span>
</code></pre></div><ul><li>安装 lsof</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">lsof</span>

<span class="token comment"># 可能需要先更新一下</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">kill</span> <span class="token parameter variable">-9</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">lsof</span> <span class="token parameter variable">-i:9000</span> <span class="token parameter variable">-t</span><span class="token variable">)</span></span>
</code></pre></div><ul><li>查看某应用的端口</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> bluebell
</code></pre></div><h2 id="使用-nvm-管理不同版本的-node-与-npm"><a href="#使用-nvm-管理不同版本的-node-与-npm" class="header-anchor">#</a> 使用 nvm 管理不同版本的 node 与 npm</h2> <ul><li><a href="https://www.runoob.com/w3cnote/nvm-manager-node-versions.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/w3cnote/nvm-manager-node-versions.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="安装yarn"><a href="#安装yarn" class="header-anchor">#</a> 安装Yarn</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#如果已经安装了旧版本的 Yarn，你可以先将其移除</span>
<span class="token function">sudo</span> <span class="token function">apt</span> remove <span class="token function">yarn</span>
<span class="token comment">#添加 Yarn 的 APT 存储库</span>
<span class="token function">curl</span> <span class="token parameter variable">-sS</span> https://dl.yarnpkg.com/debian/pubkey.gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
<span class="token builtin class-name">echo</span> <span class="token string">&quot;deb https://dl.yarnpkg.com/debian/ stable main&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/yarn.list
<span class="token comment">#更新包列表</span>
<span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token comment">#安装 Yarn</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">yarn</span>
<span class="token comment">#安装指定版本的 Yarn</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token assign-left variable">yarn</span><span class="token operator">=</span><span class="token number">1.22</span>.10-1
<span class="token comment">#验证安装</span>
<span class="token function">yarn</span> <span class="token parameter variable">--version</span>
</code></pre></div><h2 id="软件商店安装软件问题"><a href="#软件商店安装软件问题" class="header-anchor">#</a> 软件商店安装软件问题</h2> <ul><li>Unable to install &quot;Visual Studio Code&quot;: snap &quot;code&quot; has &quot;install-snap&quot; change in progress</li></ul> <p>原因：软件之前安装了一次，只是没安装完。</p> <p>解决方法：</p> <p>1、查看安装情况</p> <div class="language-shell extra-class"><pre class="language-shell"><code>snap changes
</code></pre></div><p>ID=3是我之前安装失败的。</p> <p>2、终止，重新安装</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> snap abort <span class="token number">7</span>
</code></pre></div><h2 id="邮件客户端配置"><a href="#邮件客户端配置" class="header-anchor">#</a> 邮件客户端配置</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>可以直接使用钉钉客户端，官网下载安装即刻。</p></div> <h3 id="thunderbird"><a href="#thunderbird" class="header-anchor">#</a> Thunderbird</h3> <ul><li><p>账号设置：
<img src="/assets/img/email-client-setting-ubuntu-1.a9d0b956.png" alt=""></p></li> <li><p>点左下角 Manual Config，修改为如下：
<img src="/assets/img/email-client-setting-ubuntu-2.6d3bfc04.png" alt=""></p></li></ul> <p>修改完后点 Re-test，再点 Done</p> <ul><li>收信设置，每分钟检查一次，以及时接收邮件：
<img src="/assets/img/email-client-setting-ubuntu-3.6224f19b.png" alt=""></li></ul> <h2 id="安装-mongo-client"><a href="#安装-mongo-client" class="header-anchor">#</a> 安装 mongo client</h2> <ul><li>前往 MongoDB 官方网站：</li></ul> <p>访问 MongoDB 官方网站的下载页面，选择适用于 Ubuntu 20.04 的 MongoDB 4.2 版本的客户端软件包。</p> <p>MongoDB 下载页面：<a href="https://www.mongodb.com/try/download/community" target="_blank" rel="noopener noreferrer">https://www.mongodb.com/try/download/community<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="/assets/img/mongo-client.1c18bc1b.png" alt=""></p> <ul><li>安装客户端：</li></ul> <p>打开终端，切换到下载目录，然后解压下载的软件包。假设下载的软件包名为 mongodb-linux-x86_64-4.2.19.tgz，你可以使用以下命令：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> mongodb-linux-x86_64-4.2.19.tgz
</code></pre></div><p>复制到系统路径：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">cp</span> <span class="token parameter variable">-R</span> mongodb-linux-x86_64-4.2.19/bin/* /usr/local/bin/
</code></pre></div><p>验证安装：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mongo <span class="token parameter variable">--version</span>
</code></pre></div><h2 id="文件上传"><a href="#文件上传" class="header-anchor">#</a> 文件上传</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">scp</span> /path/to/local/file username@remote_server:/path/to/remote/directory
</code></pre></div><h2 id="抓包工具"><a href="#抓包工具" class="header-anchor">#</a> 抓包工具</h2> <h3 id="wireshark"><a href="#wireshark" class="header-anchor">#</a> Wireshark</h3> <p>教程： https://time.geekbang.org/column/article/100124</p> <ul><li>软件商店安装。</li> <li>启动，过滤器选择 HTTP TCP port(80)，双击 loopback。
<img src="/assets/img/wireshark-2.63b38e1a.png" alt=""></li></ul> <p>参照途中安装依赖，加入 group 后重启电脑即可。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>这是由于当前用户没有权限运行/usr/bin/dumpcap造成的。/usr/bin/dumpcap是Wireshark的包捕获引擎。</p> <p>先用ls命令看一下dumpcap的权限情况：
xy@debian-vm-1:~$ ls -lah /usr/bin/dumpcap
-rwxr-xr-- 1 root wireshark 95K 1月  23 01:03 /usr/bin/dumpcap</p> <p>可以看到，dumpcap属于wireshark组，而该组是有运行权限的，那么只要将用户xy添加到wireshark组即可运行dumpcap。</p> <p>再看下当前用户xy属于哪个组，使用groups命令，
xy@debian-vm-1:~$ groups
xy root cdrom floppy audio dip video plugdev netdev bluetooth lpadmin scanner</p> <p>可以看到，用户xy属于好几个组，但没有wireshark组。使用以下命令将用户xy添加到wireshark组：
sudo usermod -a -G wireshark xy</p> <p>-a表示为用户追加一个组，即将用户xy加入一个组，但不从原组移除。
-G参数后面紧跟需追加的组名。</p> <p>注销再进入系统，Wireshark就可以正常运行了，但groups命令还看不到新追加的wireshark组；重启后，才可用groups命令看到新追加的wireshark组。</p></div> <hr> <p><br><br><br> <!----></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/system/ubuntu常用命令.html" class="prev">
        Ubuntu 常用命令
      </a></span> <span class="next"><a href="/system/ubuntu22.html">
        Ubuntu22
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f3a72080.js" defer></script><script src="/assets/js/2.b327ff52.js" defer></script><script src="/assets/js/1.f3150b7c.js" defer></script><script src="/assets/js/13.1f0294cf.js" defer></script>
  </body>
</html>
