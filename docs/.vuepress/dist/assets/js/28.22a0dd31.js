(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{399:function(t,s,a){t.exports=a.p+"assets/img/image-1.4b2c70c8.png"},400:function(t,s,a){t.exports=a.p+"assets/img/image-2.96255433.png"},401:function(t,s,a){t.exports=a.p+"assets/img/image-3.28ff80d7.png"},499:function(t,s,a){"use strict";a.r(s);var e=a(17),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"nsq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nsq"}},[t._v("#")]),t._v(" NSQ")]),t._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("ul",[s("li",[t._v("mac安装")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("brew "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nsq\n")])])]),s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),s("h3",{attrs:{id:"开始"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开始"}},[t._v("#")]),t._v(" 开始")]),t._v(" "),s("ul",[s("li",[t._v("分别在几个shell中执行")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("nsqlookupd\n\nnsqd --lookupd-tcp-address"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:4160\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 管理后台")]),t._v("\nnsqadmin --lookupd-http-address"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:4161\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 发送一个初始消息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world 1'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://127.0.0.1:4151/pub?topic=test'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果执行这个报错 error connecting to nsqd - dial tcp: lookup WSSHA12VSC274.local: i/o timeout，需要在执行")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nsqd --lookupd-tcp-address=127.0.0.1:4160 的时候加上 --broadcast-address=127.0.0.1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 例如： nsqd --lookupd-tcp-address=127.0.0.1:4160 --broadcast-address=127.0.0.1")]),t._v("\nnsq_to_file "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--topic")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("test --output-dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/tmp --lookupd-http-address"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:4161\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 发送更多消息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world 2'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://127.0.0.1:4151/pub?topic=test'")]),t._v("\n")])])]),s("ul",[s("li",[t._v("查看"),s("code",[t._v("/tmp")]),t._v("中的"),s("code",[t._v("test.*.log")]),t._v("文件")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" /tmp/test.WSSHA12VSC274.2024-08-07_10.log\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示内容")]),t._v("\nhello world "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nhello world "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nhello world "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nhello world "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\nhello world "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nhello world "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nhello world 哈哈\n")])])]),s("ul",[s("li",[t._v("打开后台")])]),t._v(" "),s("p",[s("a",{attrs:{href:"http://127.0.0.1:4171/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:4171/"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("img",{attrs:{src:a(399),alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:a(400),alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:a(401),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"相关资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相关资料"}},[t._v("#")]),t._v(" 相关资料")]),t._v(" "),s("ul",[s("li",[t._v("官网 "),s("a",{attrs:{href:"https://nsq.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://nsq.io/"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.liwenzhou.com/posts/Go/nsq/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.liwenzhou.com/posts/Go/nsq/"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=r.exports}}]);