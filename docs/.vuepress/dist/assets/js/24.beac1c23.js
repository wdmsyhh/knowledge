(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{375:function(t,s,a){t.exports=a.p+"assets/img/jenkins-6.15bf5254.png"},376:function(t,s,a){t.exports=a.p+"assets/img/jenkins-5.ef551a19.png"},377:function(t,s,a){t.exports=a.p+"assets/img/jenkins-3.e7587268.png"},378:function(t,s,a){t.exports=a.p+"assets/img/jenkins-4.d771cb92.png"},463:function(t,s,a){"use strict";a.r(s);var e=a(17),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"自动部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动部署"}},[t._v("#")]),t._v(" 自动部署")]),t._v(" "),s("h2",{attrs:{id:"jenkins-github-实现项目自动化部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-github-实现项目自动化部署"}},[t._v("#")]),t._v(" jenkins + GitHub 实现项目自动化部署")]),t._v(" "),s("h3",{attrs:{id:"安装jenkins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装jenkins"}},[t._v("#")]),t._v(" 安装jenkins")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.jenkins.io/zh/doc/pipeline/tour/getting-started/#%E4%B8%8B%E8%BD%BD%E5%B9%B6%E8%BF%90%E8%A1%8C-jenkins",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.jenkins.io/zh/doc/pipeline/tour/getting-started/#下载并运行-jenkins"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"启动jenkins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动jenkins"}},[t._v("#")]),t._v(" 启动jenkins")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("java")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-jar")]),t._v(" jenkins.war "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--httpPort")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v("\n")])])]),s("p",[t._v("参考：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://blog.csdn.net/qq_32352777/article/details/109267847",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jenkins 系列教程-史上最简单Jenkins教程，教你一天学会使用Jenkins利器"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://juejin.cn/post/6952765925388976165",target:"_blank",rel:"noopener noreferrer"}},[t._v("jenkins部署go程序(自动编译部署)"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://learnku.com/articles/44764",target:"_blank",rel:"noopener noreferrer"}},[t._v("jenkins + GitHub 实现项目自动化部署"),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("在配置项目时候 Source Code Management 中 Git 的 Credentials 配置老是失败，还没找到原因，解决办法是在服务器生成 ssh key 添加到了 github，然后就 Credentials 就选择了 none")])]),t._v(" "),s("h2",{attrs:{id:"jenkins执行脚本npm-command-not-found解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins执行脚本npm-command-not-found解决"}},[t._v("#")]),t._v(" jenkins执行脚本npm: command not found解决")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://blog.csdn.net/u011296165/article/details/96110294",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/u011296165/article/details/96110294"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"如何使用-rest-api-和-curl-构建作业"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何使用-rest-api-和-curl-构建作业"}},[t._v("#")]),t._v(" 如何使用 REST API 和 cURL 构建作业？")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("可用于 gitlab ci 之后执行脚本自动部署项目。")])]),t._v(" "),s("ul",[s("li",[t._v("示例构建：")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--user")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(":API_TOKEN "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-X")]),t._v(" POST https://localhost:8080/job/test/build\n")])])]),s("p",[t._v("代替：")]),t._v(" "),s("p",[s("code",[t._v("USER:API_TOKEN")]),t._v(" 使用您的用户名和 API 令牌")]),t._v(" "),s("p",[s("code",[t._v("localhost:8080")]),t._v(" 你的 Jenkins URL")]),t._v(" "),s("p",[s("code",[t._v("test")]),t._v(" 你的工作名称")]),t._v(" "),s("ul",[s("li",[t._v("使用字符串参数构建示例：")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--user")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(":API_TOKEN "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-X")]),t._v(" POST https://localhost:8080/job/test/build --data-urlencode "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"parameter": [{"name":"paramA", "value":"123"}]}\'')]),t._v("\n")])])]),s("p",[t._v("代替：")]),t._v(" "),s("p",[s("code",[t._v("USER:API_TOKEN")]),t._v(" 使用您的用户名和 API 令牌")]),t._v(" "),s("p",[s("code",[t._v("localhost:8080")]),t._v(" 你的 Jenkins URL")]),t._v(" "),s("p",[s("code",[t._v("test")]),t._v(" 你的工作名称")]),t._v(" "),s("p",[s("code",[t._v("paramA")]),t._v(" 你的参数名称")]),t._v(" "),s("p",[s("code",[t._v("123")]),t._v(" 你的参数值")]),t._v(" "),s("h3",{attrs:{id:"我的实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#我的实践"}},[t._v("#")]),t._v(" 我的实践：")]),t._v(" "),s("ul",[s("li",[t._v("添加参数：")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(375),alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("添加 shell 脚本")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(376),alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("调用 api:")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-X")]),t._v(" POST http://jenkins.get123.xyz/job/test/build "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--user")]),t._v(" myUser:xxxxxxxxx "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --data-urlencode "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"parameter": [{"name":"BRANCH", "value":"master"},{"name":"SERVICES", "value":"order product"}]}\'')]),t._v("\n")])])]),s("ul",[s("li",[t._v("查看参数：")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(377),alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("查看输出：")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(378),alt:""}})])])}),[],!1,null,null,null);s.default=n.exports}}]);