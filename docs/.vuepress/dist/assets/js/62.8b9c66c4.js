(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{467:function(a,s,t){"use strict";t.r(s);var e=t(17),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"helm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#helm"}},[a._v("#")]),a._v(" helm")]),a._v(" "),s("h2",{attrs:{id:"官网"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#官网"}},[a._v("#")]),a._v(" 官网")]),a._v(" "),s("ul",[s("li",[s("p",[s("a",{attrs:{href:"https://helm.sh/zh/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://helm.sh/zh/"),s("OutboundLink")],1)])]),a._v(" "),s("li",[s("p",[a._v("helm charts 仓库：")])])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://artifacthub.io/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://artifacthub.io/"),s("OutboundLink")],1)]),a._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("ul",[s("li",[a._v("查看安装方式")])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://helm.sh/zh/docs/intro/install/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://helm.sh/zh/docs/intro/install/"),s("OutboundLink")],1)]),a._v(" "),s("ul",[s("li",[a._v("下载可执行文件")])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://get.helm.sh/helm-v3.13.0-linux-amd64.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://get.helm.sh/helm-v3.13.0-linux-amd64.tar.gz"),s("OutboundLink")],1)]),a._v(" "),s("ul",[s("li",[a._v("解压")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-zxvf")]),a._v(" helm-v3.13.0-linux-amd64.tar.gz\n")])])]),s("ul",[s("li",[a._v("在解压目录中找到helm程序，移动到需要的目录中")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" linux-amd64/helm /usr/local/bin/helm\n")])])]),s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),s("ul",[s("li",[a._v("添加仓库")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("helm repo "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" bitnami https://charts.bitnami.com/bitnami\n")])])]),s("ul",[s("li",[a._v("查看仓库列表")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("helm repo list\n")])])]),s("ul",[s("li",[a._v("删除仓库")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("helm repo remove bitnami\n")])])]),s("ul",[s("li",[a._v("查看软件有哪些版本")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("helm search repo bitnami/mongodb "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--versions")]),a._v("\n")])])]),s("p",[a._v("发现没有 "),s("code",[a._v("4.x")]),a._v(" 版本的 mongodb")]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),s("p",[a._v("使用 4.x 版本的 mongodb 参考一下方法：")])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/bitnami/charts/issues/14038",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/bitnami/charts/issues/14038"),s("OutboundLink")],1)]),a._v(" "),s("ul",[s("li",[a._v("添加完整的索引仓库")])]),a._v(" "),s("p",[a._v("可能需要较好的网络，开 vpn")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("helm repo "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" bitnami-full-index https://raw.githubusercontent.com/bitnami/charts/archive-full-index/bitnami\n")])])]),s("ul",[s("li",[a._v("查看软件有哪些版本")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("helm search repo bitnami-full-index/mongodb "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--versions")]),a._v("\n")])])]),s("p",[a._v("如果上面 repo add 失败可以使用下面方法：")]),a._v(" "),s("ul",[s("li",[a._v("拉取项目")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# git clone 或者到 github 切换到 archive-full-index 直接下载")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone git@github.com:bitnami/charts.git\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" charts\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout archive-full-index\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" bitnami-full "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":8080 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/bitnami:/app bitnami/nginx\n\nhelm repo "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" bitnami-full http://localhost\n\nhelm search repo bitnami-full/mongodb "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--versions")]),a._v("\n")])])]),s("h2",{attrs:{id:"安装-mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-mongodb"}},[a._v("#")]),a._v(" 安装 mongodb")]),a._v(" "),s("ul",[s("li",[a._v("安装集群")])]),a._v(" "),s("p",[a._v("对应的 mongodb 版本是 4.4")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("helm "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" mongo bitnami-full-index/mongodb "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--version")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.3")]),a._v(".2 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("architecture")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"replicaset"')]),a._v(",auth.rootPassword"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"root"')]),a._v("\n")])])]),s("h2",{attrs:{id:"安装mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装mysql"}},[a._v("#")]),a._v(" 安装Mysql")]),a._v(" "),s("ul",[s("li",[a._v("查看")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("helm search repo stable/mysql\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 结果")]),a._v("\nNAME        \tCHART VERSION\tAPP VERSION\tDESCRIPTION\nstable/mysql\t"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.3")]),a._v(".5        \t           \tFast, reliable, scalable, and easy to use open-"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);