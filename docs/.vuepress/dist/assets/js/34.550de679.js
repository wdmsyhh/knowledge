(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{449:function(s,a,t){s.exports=t.p+"assets/img/image.5df7813a.png"},450:function(s,a,t){s.exports=t.p+"assets/img/image-1.c24fbe75.png"},530:function(s,a,t){"use strict";t.r(a);var e=t(17),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"nacos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nacos"}},[s._v("#")]),s._v(" nacos")]),s._v(" "),a("h2",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),a("ul",[a("li",[s._v("下载项目")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/nacos-group/nacos-docker.git\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" nacos-docker\n")])])]),a("ul",[a("li",[s._v("docker方式启动")])]),s._v(" "),a("p",[s._v("单机模式")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" example/standalone-derby.yaml up\n")])])]),a("ul",[a("li",[s._v("访问")])]),s._v(" "),a("p",[a("a",{attrs:{href:"http://127.0.0.1:8848/nacos/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://127.0.0.1:8848/nacos/"),a("OutboundLink")],1)]),s._v(" "),a("ul",[a("li",[a("p",[s._v("新建命名空间\n"),a("img",{attrs:{src:t(449),alt:""}})])]),s._v(" "),a("li",[a("p",[s._v("新建配置\n"),a("img",{attrs:{src:t(450),alt:""}})])]),s._v(" "),a("li",[a("p",[s._v("获取配置")])])]),s._v(" "),a("p",[s._v("这里使用的是v2的接口")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-X")]),s._v(" GET "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://127.0.0.1:8848/nacos/v2/cs/config?dataId=test.data.id&group=default&namespaceId=1b2565c2-b3c9-473e-9d7d-ccbda12731fa'")]),s._v("\n")])])]),a("ul",[a("li",[s._v("开启认证")])]),s._v(" "),a("p",[s._v("在文件"),a("code",[s._v("standalone-derby.yaml")]),s._v("环境变量中添加 "),a("code",[s._v("NACOS_AUTH_ENABLE=true")])]),s._v(" "),a("p",[s._v("执行")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" example/standalone-derby.yaml up\n")])])]),a("p",[s._v("打开页面 ["),a("a",{attrs:{href:"http://127.0.0.1:8848/nacos/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://127.0.0.1:8848/nacos/"),a("OutboundLink")],1),s._v("]("),a("a",{attrs:{href:"http://127.0.0.1:8848/nacos/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://127.0.0.1:8848/nacos/"),a("OutboundLink")],1),s._v(")")]),s._v(" "),a("p",[s._v("首次登陆填写密码会初始化密码")]),s._v(" "),a("p",[s._v("新增命令空间和配置后获取配置：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#先获取accessToken")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-X")]),s._v(" POST "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'127.0.0.1:8848/nacos/v1/auth/login'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'username=nacos&password=123456'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"accessToken"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJuYWNvcyIsImV4cCI6MTcyMzA0Mjc1MH0.fD7UEVolRS30y9a_Fh9lun77yM99XVvjW3JTOFHYnLAvzCwlkzxT5QmuPcwWz9-C"')]),s._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tokenTtl"')]),s._v(":18000,"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"globalAdmin"')]),s._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"username"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"nacos"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-X")]),s._v(" GET "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://127.0.0.1:8848/nacos/v2/cs/config?dataId=test.data.id&group=default&namespaceId=b893c60d-55f3-405f-ae70-3329ca33be39&accessToken=eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJuYWNvcyIsImV4cCI6MTcyMzA0Mjc1MH0.fD7UEVolRS30y9a_Fh9lun77yM99XVvjW3JTOFHYnLAvzCwlkzxT5QmuPcwWz9-C'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#返回")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"code"')]),s._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"message"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"success"')]),s._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"data"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app:'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("  name: "),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("aa"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('  dev: env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);