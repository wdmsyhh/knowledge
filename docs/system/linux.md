# Linux 基本操作

## Vim

- 预备知识（三种模式介绍）

基本上 vi/vim 共分为三种模式，分别是命令模式（Command mode），输入模式（Insert mode）和底行命令模式（Last line mode）。 这三种模式的作用分别是： 
一般/ 命令模式(Normal mode)：Vim 启动后，默认进入命令模式。在此模式下，我们可以 控制屏幕光标的移动，字符、字或行的删除，移动复制某区段及进入Insert mode下，或者到 last line mode下
输入模式(Insert mode)：只有在此模式下我们可以编辑文本内容。在命令模式下按 `i、 a 、o`等键可以进入输入模式， 按「ESC」键可回到命令行模式
底行模式（Last line mode）： 在命令模式下，`shift+:` 即可进入底行模式。这时光标会移到屏幕底部，在这里可以输入相关指令进行 文件保存或退出，也可以进行文件替换，找字符串，列出行号等操作。

- 三种模式的相互切换：

[正常模式]切换至[插入（输入）模式]： 可以输入`i、a、o`任意一键切换（但三种按键进入的插入模式对应的效果不一样，下文会介绍）
[ 正常模式 ] 切换至 [底行 模式]：  按下`shift + :`, 其实就是输入 `:`
切换至 [正常模式]： 在任何模式下，都可以按 `Esc` 键返回到命令模式，可以多按几次 `Esc` 键，保证顺利返回到命令模式。

- 退出 vim 及保存文件，在底行模式下输入 。

```shell
#（保存当前文件）
w 
#(输入「wq」,保存文件并退出vim)
wq 
#(输入q!,不存盘强制退出vim)
q! 
```

- 进入插入模式。

按「a」进入插入模式后，是从目前光标所在位置的下一个位置开始输入文字

按「i」切换进入插入模式「insert mode」，按“i”进入插入模式后是从光标当前位置开始输入文件

按「o」进入插入模式后，是插入新的一行，从行首开始输入文字

- 移动光标。

vim可以直接用键盘上的光标来上下左右移动，但正规的vim是用小写英文字母「h」「j」「k」、「l」，分别控制光标左、下、上、右移一格

按［ gg］或［ngg］：进入到文本首行或者跳转到第n行

按「shift+g (G)」或［nG］：移动到文章的最后或跳转到第n行

按「shift+4 ($) 」：移动到光标所在行的行尾

按「shift+6 (^)」：移动到光标所在行的行首

按「w」：光标跳到下个字的开头

按「e 」：光标跳到下个字的字尾

按「b 」：光标跳到上个字的开头

按「 nl 」：光标移到该行的第n 个位置

按「 ctrl + b 」：屏幕往 “ 后 ” 移动一页

按「 ctrl + f 」：屏幕往 “ 前 ” 移动一页

按「 ctrl +u 」：屏幕往 “ 后 ” 移动半页

按「 ctrl + d 」：屏幕往 “ 前 ” 移动半页

- 删除文字
按「x」或「nx」：每按一次，删除光标所在位置的一个字符或删除包括光标所在位置及其后面的n个字符

按「X」或「nX」：大写的X，每按一次，删除光标所在位置的前面一个字符或删除光标位置之前的n个字符

按「dd」或「ndd」：对当前行或者当前行在内的n行内容进行删除操作（搭配p可进行剪切操作）

- 复制 
按「yw」或「nyw」：将光标所在之处到字尾的字符（或指定n个光标后的字符）复制到缓冲区中

按「yy」或「nyy」 ：复制当前行或者复制当前行所在的指定若干行

按「p」：将缓冲区内的字符贴到光标所在位置；注意：所有与“y”有关的复制命令都必须与“p”配合才能完成复制与粘贴功能。

按「dd+p」:进行剪切操作 ，只按「dd」等于删除

- 替换 
按「r」或「nr」：替换光标所在处的字符；

按「R」：替换光标所到之处的字符，直到按下「ESC」键为止；

按「shift+~」：实现大小写转换

- 跳至指定的行 
按「ctrl+g」列出光标所在行的行号；

按「nG」：例如，「15G」，表示移动光标至文章的第15行行首.

- 撤销上一次操作

按「u」：撤销刚才的操作，回到上一个操作。按多次“u”可以执行多次撤销；

「ctrl + r」: 对撤销的恢复 
- 更改内容

按「cw」：更改光标所在处的字到字尾处

按「cnw」：例如，「c3w」表示更改3个字

- vim底行模式下命令集 

- 列出行号

「set nu」: 输入「set nu」后，会在文件中的每一行前面列出行号

- 跳到文件中的某一行

「n」: 在冒号后输入一个数字，再按回车键就会跳到该行了，如输入数字15，再回车，就会跳到文章的第15行

- 查找字符

「/关键字」: 先按「/」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按 「n」会往后寻找到您要的关键字为止。

「?关键字」：先按「?」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往前寻找到您要的关键字为止。

- 保存文件并退出

「w」: 在冒号输入字母「w」就可以将文件保存起来

「q」：按「q」就是退出，如果无法离开vim，可以在「q」后跟一个「!」强制离vim

「wq」：一般建议离开时，搭配「w」一起使用，这样在退出的时候还可以保存文件


## 查询当前 Linux 系统的信息

- 查询当前 Linux 系统的信息，包括内核版本、主机名、操作系统
```shell
uname -a
```

- 查询当前 Linux 系统的版本（例如 Ubuntu 的版本是 18.04 或 20.04）

先安装命令
```shell
sudo apt-get update
sudo apt-get install -y lsb-release
```

查询
```shell
lsb_release -a
```